<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" ><mapper namespace="com.yyan.dao.DocDao">    <!--插入一个区块-->    <insert id="insertDoc" parameterType="com.yyan.pojo.Doc">        <!-- mysql插入数据后，获取id -->        insert into doc(id, departmentId,title,fileUrl,abs,createTime,updateTime) values        (uuid(), #{departmentId},#{title},#{fileUrl},#{abs},now(), now())    </insert>    <!--查询条件-->    <sql id="selectListDocCondition">        <if test="departmentId != null">            and departmentId= #{departmentId}        </if>        <if test="id != null">            and id=#{id}        </if>        <if test="title != null">            and title LIKE "%${title}%"        </if>    </sql>    <!--查询区块-->    <select id="selectListDoc" resultType="java.util.HashMap">        SELECT * FROM doc where 1=1        <include refid="selectListDocCondition"/>        limit ${pageIndex*size},${(pageIndex+1)*size}    </select>    <!--查询数量-->    <select id="countListDoc" resultType="java.lang.Integer">        select count(id) from doc WHERE 1=1        <include refid="selectListDocCondition"/>    </select>    <!--查询条件-->    <sql id="selectListSelfDocCondition">        <if test="departmentId != null">            and departmentId= #{departmentId}        </if>        <if test="id != null">            and id=#{id}        </if>        <if test="title != null">            and title LIKE "%${title}%"        </if>    </sql>    <!--查询区块-->    <select id="selectListSelfDoc" resultType="java.util.HashMap">        SELECT dc.*,a.state as state FROM (        select * from doc where 1=1        <include refid="selectListSelfDocCondition"/>        limit ${pageIndex*size},${(pageIndex+1)*size}        ) dc        left join auth a        ON dc.id=a.docId        where 1=1        <if test="userId != null">            and a.userId=#{userId}        </if>    </select>    <!--&lt;!&ndash;查询数量&ndash;&gt;-->    <!--<select id="countListDoc" resultType="java.lang.Integer">-->    <!--select count(id) from doc WHERE 1=1-->    <!--<include refid="selectListDocCondition"/>-->    <!--</select>-->    <!--删除-->    <delete id="deleteDoc" parameterType="java.lang.String">       delete from doc where id=#{id};    </delete></mapper>